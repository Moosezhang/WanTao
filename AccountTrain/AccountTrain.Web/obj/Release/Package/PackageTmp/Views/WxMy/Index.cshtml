
@{
     ViewBag.Title = "个人中心";
}


<style>
	.key-span {
		font-size: 17px;
		padding-left: 20px;
	}
	.value-span {
		margin-left: 185px;
		font-size: 17px;
		color: #999;
	}
</style>

<head>
    <meta name="viewport" content="width=device-width" />
    <title>个人中心</title>
</head>
<body>
  	<header data-am-widget="header" class="am-header am-header-default" style="background-color: white;">
	  <div class="am-header-left am-header-nav">
		  <a href="javascript:window.history.back(); " class="">
		  	<img class="am-header-icon-custom" src="~/Images/icon/返回.png" alt=""/>
		  </a>
	  </div>
	  <h3 class="am-header-title" style="color: black;padding-top: 15px;font-size: 18px;">
          个人中心
      </h3>
	</header>
    <form class="am-form">
        <fieldset>
            <div id="wxUser" model="data">
                <div class="am-input-group" style="width: 100%; height: 180px;background-image:url(/Images/icon/myBack.png);background-size: 100% 100%; ">
                   	<div style="margin: 65px 155px;">
                   		<img v-if="data.Headimgurl!=''" :src="data.Headimgurl" style="width: 80px;height: 80px">
                   		<img v-if="data.Headimgurl==''" src="~/Images/icon/默认头像.png" style="width: 80px;height: 80px">   
                   	</div>	
                </div>
                <hr style="margin-top: 0px;"/>
                <div class="am-input-group" style="margin-bottom: 10px;">
                    <span class="key-span">
                    	<img style="margin-right: 3px;width: 55px;" class="am-header-icon-custom" src="~/Images/icon/myPoint.png" alt=""/>
                    	我的积分
                    </span>
                    <span class="value-span">{{data.Points}}分</span>
                </div>
                <hr style="margin-top: 0px;"/>
                <div class="am-input-group" style="margin-bottom: 10px;">
                    <span class="key-span">
                    	<img style="margin-right: 3px;width: 55px;" class="am-header-icon-custom" src="~/Images/icon/myClass.png" alt=""/>
                    	我的课程
                    </span>
                    <a href="/WxMy/MyClass?openid=@ViewBag.Openid&&code=null&&state=null" style="margin-left: 190px;font-size: 17px;color: #999;" >
				  		<img src="~/Images/icon/前往.png" alt=""/>
				  	</a>
                </div>
				<hr style="margin-top: 0px;"/>
                <div class="am-input-group" style="margin-bottom: 10px;">
                    <span class="key-span">
                    	<img style="margin-right: 3px;width: 55px;" class="am-header-icon-custom" src="~/Images/icon/myShop.png" alt=""/>
                    	购物车
                    </span>    
                    <a href="/WxMy/MyCar?openid=@ViewBag.Openid&&code=null&&state=null" style="margin-left: 205px;font-size: 17px;color: #999;" >
				  		<img  src="~/Images/icon/前往.png" alt=""/>
				  	</a>
                </div>             
            </div>
        </fieldset>
    </form>
   
</div>
</body>


<script>
	var openid = '@ViewBag.Openid';
	var wxUserVue=new Vue({
		el:"#wxUser",
		data:{
			data:{}
		},
		created: function () {
                var _self = this;
                $.ajax({
                    type: "get",
                    dataType: "json",
                    contentType: "application/json",
                    url: "/WxMy/GetWxUserByOpenid",
                    data:{
                    	Openid:openid
                    },
                    success: function (result) {
                        _self.data = result;
                    }
                });
           }
	});
	
	 function guid() {
        function S4() {
            return (((1 + Math.random()) * 0x10000) | 0).toString(16).substring(1);
        }
        return (S4() + S4() + "-" + S4() + "-" + S4() + "-" + S4() + "-" + S4() + S4() + S4());
    }
	
</script>
