@{
    ViewBag.Title = "公司信息";
    Layout = "~/Areas/Admin/Views/Shared/_Layout.cshtml";
}
<div class="wz">
        您当前所在的位置：公司信息
</div>
<div id="company" style="margin-top:30px;margin-left:30px">
    <el-form model="form">
        <el-form-item label="CompanyId" style="display: none;">
            <el-input v-model="form.CompanyId" style="width:220px;margin-left: 20px;" clearable></el-input>
        </el-form-item>
        <el-form-item label="公司名称：">
            <el-input v-model="form.CompanyName" style="width:220px;margin-left: 20px;" clearable></el-input>
        </el-form-item>
        <el-form-item label="公司地址：">
            <el-input v-model="form.CompanyAddress" style="width:220px;margin-left: 20px;" clearable></el-input>
        </el-form-item>
        <el-form-item label="公司电话：">
            <el-input v-model="form.CompanyTelephone" style="width:220px;margin-left: 20px;" clearable></el-input>
        </el-form-item>
        <el-form-item label="公司邮箱：">
            <el-input v-model="form.CompanyEmail" style="width:220px;margin-left: 20px;" clearable></el-input>
        </el-form-item>
        <el-form-item label="联系人名称：">
            <el-input v-model="form.ContactName" style="width:220px;margin-left: 6px;" clearable></el-input>
        </el-form-item>
        <el-form-item label="联系人电话：">
            <el-input v-model="form.ContactPhone" style="width:220px;margin-left: 6px;" clearable></el-input>
        </el-form-item>
        <el-form-item label="备注：">
            <el-input v-model="form.Remark" style="width:220px;margin-left: 48px;" clearable></el-input>
        </el-form-item>
    </el-form>
    <div slot="footer" class="dialog-footer">
        <el-button type="primary" size="small" v-on:click="SaveCompany(form)">确 定</el-button>
    </div>
</div>
<script>
    var companyVue = new Vue({
        el: "#company",
        data: {
            form: {}
        },
        beforeCreate: function () {
            var _self = this;
            $.ajax({
                type: "get",
                dataType: "json",
                contentType: "application/json",
                url: "/BaseSet/GetCompanyInfo",
                success: function (result) {
                    _self.form = result;
                }
            });
        },
        methods: {
            SaveCompany: function (company) {
                var _self = this;
                $.ajax({
                    type: "post",
                    dataType: "json",
                    url: "/BaseSet/SaveCompanyInfo",
                    data: company,
                    success: function (result) {
                        if (result) {
                            _self.$message({
                                type: 'success',
                                message: '保存成功!'
                            });
                        } else {
                            _self.$message.error('保存公司信息失败');
                        }
                    },
                    error: function (json) {
                        _self.$message.error('保存公司信息失败');
                    }
                });
            },
        }

    })
</script>

